## 代理

代理可以控制访问，只做自己的核心业务，比如你是学生只管学习，所以买学习用品这些交给其它人来做。你只做自己的核心业务。

### 代理模式

- 核心角色
  - 抽象角色
    - 定义代理和真实对象的对外公共方法
  - 真实角色
    - 实现抽象角色，定义真实角色所要实现的业务逻辑，提供代理角色调用
    - 关注真正业务
  - 代理角色
    - 实现抽象角色，是个代理，提供真实角色的业务逻辑来实现抽象，并加入附加操作。

代理公共去实现一各共同的接口。代理类做其他事情的时候自己搞定，核心业务的时候会调用真实角色的方法，将真实角色的作为参数传入，让调用真实的方法 。



#### 代码实现

- 创建一个代理类

  ```java
  public interface Star {
  	void pre();
  	void work();
  	void after();
  }
  
  ```

  

- 代理实现这个代理类（核心业务方法，调用真实对象）

  ```
  public class ProxyStar implements Star{
  	private Star star;
  
  	public ProxyStar(Star star) {
  		// TODO Auto-generated constructor stub
  		this.star = star;
  	}
  	
  	@Override
  	public void pre() {
  		// TODO Auto-generated method stub
  		System.out.println("RealStar pre============");
  	}
  
  	@Override
  	public void work() {
  		// TODO Auto-generated method stub
  		star.work();
  	}
  
  	@Override
  	public void after() {
  		// TODO Auto-generated method stub
  		System.out.println("RealStar after============");
  	}
  }
  ```

  

- 真实对象实现

  ```
  public class RealStar implements Star{
  
  	@Override
  	public void pre() {
  		// TODO Auto-generated method stub
  		System.out.println("RealStar pre============");
  	}
  
  	@Override
  	public void work() {
  		// TODO Auto-generated method stub
  		System.out.println("RealStar work============");
  	}
  
  	@Override
  	public void after() {
  		// TODO Auto-generated method stub
  		System.out.println("RealStar after============");
  	}
  
  }
  ```

  

  



